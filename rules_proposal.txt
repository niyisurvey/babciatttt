Generic replacement rules (language-agnostic)

Colors
- Rule: Replace literal color values and named primitives with semantic tokens.
- Replacement: Color literals -> theme.palette.<semantic>; gradients -> theme.backgrounds.gradient.<name>.
- Codemod patterns:
  - Regex: (?<!theme\.|tokens\.)Color\(
  - Regex: (?<!theme\.|tokens\.)\.(black|white|red|orange|blue|green|teal|cyan|purple|pink|indigo|mint|yellow|brown)
- AST note: SwiftSyntax recommended to avoid matching enum cases and non-UI contexts.

Semantic system colors
- Rule: System semantic colors (.secondary/.tertiary/etc.) should be mapped to theme tokens.
- Replacement: .secondary -> theme.palette.textSecondary (example).
- Codemod pattern:
  - Regex: (?<!theme\.|tokens\.)\.(secondary|tertiary|primary|accentColor)
- AST note: SwiftSyntax recommended for scope-aware replacements.

Opacity
- Rule: Replace literal opacity values with semantic opacity tokens.
- Replacement: .opacity(0.4) -> .opacity(theme.elevation.overlayDim)
- Codemod pattern:
  - Regex: \.opacity\(\s*([0-9]+(?:\.[0-9]+)?)
- AST note: Safe with regex but review needed for animation math.

Shadow/Elevation
- Rule: Replace literal shadows with elevation presets.
- Replacement: .shadow(...) -> .shadow(theme.elevation.level.2)
- Codemod patterns:
  - Regex: \.shadow\(
  - Regex: \.shadow\([^)]*opacity\(
- AST note: SwiftSyntax preferred to map args into structured presets.

Spacing/Layout
- Rule: Replace numeric layout literals with spacing scale tokens.
- Replacement: padding(16) -> padding(theme.grid.m)
- Codemod patterns:
  - Regex: padding\(\s*\d+
  - Regex: padding\(\.\w+,\s*\d+
  - Regex: spacing:\s*\d+
  - Regex: frame\([^)]*(width|height):\s*\d+
  - Regex: offset\(\s*[xy]:\s*\d+
- AST note: Regex works for detection; SwiftSyntax needed for safe conversion.

Shape/Radius
- Rule: Replace literal radii with shape tokens.
- Replacement: cornerRadius: 12 -> cornerRadius: theme.shape.card
- Codemod patterns:
  - Regex: cornerRadius:\s*\d+
  - Regex: RoundedRectangle\(cornerRadius:\s*\d+
- AST note: SwiftSyntax recommended for custom shapes and computed radii.

Typography
- Rule: Replace hardcoded fonts/styles with semantic typography tokens.
- Replacement: .font(.title2.bold()) -> .font(theme.typography.title2)
- Codemod patterns:
  - Regex: \.font\(\.system
  - Regex: \.font\(\.(title|title2|title3|headline|body|caption|subheadline)
- AST note: SwiftSyntax recommended due to chained modifiers.

Gradients
- Rule: Replace literal gradient arrays with gradient tokens.
- Replacement: LinearGradient(colors:[...]) -> theme.backgrounds.gradient.hero
- Codemod patterns:
  - Regex: LinearGradient\(colors:\s*\[
  - Regex: Gradient\(colors:\s*\[
- AST note: SwiftSyntax preferred to map gradient stop semantics.

Priority plan (ordered checklist)

Phase 1 — Critical/High palette and status colors on primary flows
- Focus files (highest offender counts):
  - BabciaTobiasz/Features/Areas/AreaFormView.swift (81)
  - BabciaTobiasz/Features/Settings/Analytics/AnalyticsView.swift (52)
  - BabciaTobiasz/Shared/Components/SkeletonLoadingView.swift (49)
  - BabciaTobiasz/Features/Areas/AreaDetailView.swift (46)
  - BabciaTobiasz/Features/Areas/AreaListView.swift (41)
  - BabciaTobiasz/Features/Areas/AreaRowView.swift (41)
  - BabciaTobiasz/Features/SpotCheck/SpotCheckCards.swift (40)
  - BabciaTobiasz/Features/Settings/SettingsView.swift (35)
  - BabciaTobiasz/Shared/Components/ErrorView.swift (33)
  - BabciaTobiasz/Features/Settings/CameraSetupView.swift (33)
  - BabciaTobiasz/Shared/Components/OnboardingView.swift (31)
  - BabciaTobiasz/Shared/Components/LoadingIndicatorView.swift (26)
- Checklist:
  1) Replace status literals (.red/.green/.yellow/.orange) with palette.success/warning/error tokens.
  2) Replace black/white literals that affect text/backgrounds with semantic palette tokens.
  3) Normalize literal gradients into named background gradient tokens.

Phase 2 — Elevation and overlay consistency
- Checklist:
  1) Replace literal .shadow(...) calls with elevation.level.* presets.
  2) Replace literal opacity values used for overlays/dims with elevation.overlayDim tokens.

Phase 3 — Spacing and shape scale normalization in shared components
- Checklist:
  1) Update shared components under BabciaTobiasz/Shared/Components first.
  2) Normalize padding/spacing/frame numeric literals to grid scale tokens.
  3) Normalize corner radii to shape.* tokens.

Phase 4 — Typography and semantic system color cleanup
- Checklist:
  1) Replace .font(.system(...)) and .font(.title...) usages with typography.* tokens.
  2) Replace .secondary/.tertiary/etc. with palette semantic tokens where appropriate.

CI/Lint enforcement

SwiftLint custom rules (example)
- hardcoded_color_literals:
  regex: '(?<!theme\.|tokens\.)\bColor\('
  message: 'Use theme tokens instead of Color(...) literals.'
  severity: error
- hardcoded_named_colors:
  regex: '(?<!theme\.|tokens\.)\.(black|white|red|orange|blue|green|teal|cyan|purple|pink|indigo|mint|yellow|brown)\b'
  message: 'Use theme palette tokens instead of named colors.'
  severity: error
- hardcoded_spacing:
  regex: 'padding\(\s*\d+|spacing:\s*\d+'
  message: 'Use theme grid tokens for spacing.'
  severity: warning
- hardcoded_radius:
  regex: 'cornerRadius:\s*\d+|RoundedRectangle\(cornerRadius:'
  message: 'Use theme shape tokens for radii.'
  severity: warning

Ripgrep CI checks (fail build on matches)
- rg -n "(?<!theme\.|tokens\.)\bColor\(" BabciaTobiasz
- rg -n "(?<!theme\.|tokens\.)\.(black|white|red|orange|blue|green|teal|cyan|purple|pink|indigo|mint|yellow|brown)\b" BabciaTobiasz
- rg -n "padding\(\s*\d+|spacing:\s*\d+|cornerRadius:\s*\d+" BabciaTobiasz

Visual diff enforcement
- Require PR template checkbox: 'I attached before/after screenshots for UI changes.'
- CI job: fail if UI-related files changed without image artifacts in PR description.

Manual review effort estimate
- Phase 1: Medium (critical palette choices need product review).
- Phase 2: Medium (elevation changes can shift perceived depth).
- Phase 3: High (spacing/radius changes impact many layouts).
- Phase 4: Medium (typography updates need accessibility checks).
- Automation: detection is reliable; replacements need manual verification for gradients, shadows, and typography.
